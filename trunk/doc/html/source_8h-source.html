<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>libprop: source.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.4 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
  </ul>
</div>
<h1>source.h</h1><a href="source_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment">        libprop -- library to simulate and measure radio signal propagation</span>
<a name="l00003"></a>00003 <span class="comment">        </span>
<a name="l00004"></a>00004 <span class="comment">        Copyright (C) 2007 Jeffrey Sharkey, jsharkey.org</span>
<a name="l00005"></a>00005 <span class="comment">        </span>
<a name="l00006"></a>00006 <span class="comment">        This program is free software: you can redistribute it and/or modify</span>
<a name="l00007"></a>00007 <span class="comment">        it under the terms of the GNU General Public License as published by</span>
<a name="l00008"></a>00008 <span class="comment">        the Free Software Foundation, either version 3 of the License, or</span>
<a name="l00009"></a>00009 <span class="comment">        (at your option) any later version.</span>
<a name="l00010"></a>00010 <span class="comment">        </span>
<a name="l00011"></a>00011 <span class="comment">        This program is distributed in the hope that it will be useful,</span>
<a name="l00012"></a>00012 <span class="comment">        but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00013"></a>00013 <span class="comment">        MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l00014"></a>00014 <span class="comment">        GNU General Public License for more details.</span>
<a name="l00015"></a>00015 <span class="comment">        </span>
<a name="l00016"></a>00016 <span class="comment">        You should have received a copy of the GNU General Public License</span>
<a name="l00017"></a>00017 <span class="comment">        along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l00018"></a>00018 <span class="comment">*/</span>
<a name="l00019"></a>00019 
<a name="l00020"></a>00020 <span class="preprocessor">#pragma once</span>
<a name="l00021"></a>00021 <span class="preprocessor"></span>
<a name="l00022"></a>00022 <span class="preprocessor">#include &lt;iostream&gt;</span>
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;fstream&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;string&gt;</span>
<a name="l00025"></a>00025 
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;math.h&gt;</span>
<a name="l00027"></a>00027 
<a name="l00028"></a>00028 <span class="keyword">using namespace </span>std;
<a name="l00029"></a>00029 
<a name="l00030"></a>00030 <span class="preprocessor">#include "<a class="code" href="geom_8h.html">geom.h</a>"</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include "<a class="code" href="utils_8h.html">utils.h</a>"</span>
<a name="l00032"></a>00032 
<a name="l00033"></a><a class="code" href="source_8h.html#63e7a2e85cc5b32ab76920160a82c0b5">00033</a> <span class="preprocessor">#define TYPE_ELEV 2</span>
<a name="l00034"></a><a class="code" href="source_8h.html#0e515c7a5e511c66870ff038137de2ab">00034</a> <span class="preprocessor"></span><span class="preprocessor">#define TYPE_VEGTYPE 3</span>
<a name="l00035"></a><a class="code" href="source_8h.html#4ad9464932cb73fb61572e68400f7c21">00035</a> <span class="preprocessor"></span><span class="preprocessor">#define TYPE_VEGHEIGHT 4</span>
<a name="l00036"></a><a class="code" href="source_8h.html#b24f51d80446819dd4befab58fb23c0a">00036</a> <span class="preprocessor"></span><span class="preprocessor">#define TYPE_LAND 5</span>
<a name="l00037"></a>00037 <span class="preprocessor"></span>
<a name="l00038"></a><a class="code" href="source_8h.html#86b3ef6df5ccd39c1ac8c4c68b3f57fb">00038</a> <span class="preprocessor">#define LAND_NONE 0</span>
<a name="l00039"></a><a class="code" href="source_8h.html#a5eecb202642d1a3d5d48fc04e7c6bd1">00039</a> <span class="preprocessor"></span><span class="preprocessor">#define LAND_FOREST 1</span>
<a name="l00040"></a><a class="code" href="source_8h.html#1f4ef10380cefb846855239d2dacc32e">00040</a> <span class="preprocessor"></span><span class="preprocessor">#define LAND_RESIDENTIAL 2</span>
<a name="l00041"></a><a class="code" href="source_8h.html#66c0466d2d309fb267ab344e86e59e4f">00041</a> <span class="preprocessor"></span><span class="preprocessor">#define LAND_COMMERCIAL 3</span>
<a name="l00042"></a>00042 <span class="preprocessor"></span>
<a name="l00043"></a><a class="code" href="source_8h.html#79746149dba4f3da9b7d0f09f288e782">00043</a> <span class="preprocessor">#define EC 0.082271854</span>
<a name="l00044"></a><a class="code" href="source_8h.html#26425cb9dd61028fe9c0fc2f5519e7b9">00044</a> <span class="preprocessor"></span><span class="preprocessor">#define EC2 0.006768658</span>
<a name="l00045"></a>00045 <span class="preprocessor"></span>
<a name="l00046"></a>00046 
<a name="l00048"></a><a class="code" href="classConvert.html">00048</a> <span class="keyword">class </span><a class="code" href="classConvert.html" title="Interface to convert a Point into another coordinate system that could be used to...">Convert</a> {
<a name="l00049"></a>00049 <span class="keyword">public</span>:
<a name="l00054"></a>00054         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classConvert.html#59617867a65e13be7672b11b92eaade4">convert</a>(<a class="code" href="classPoint.html" title="Describe a specific point on the Earth surface. It can also store details about that...">Point</a>* p, <span class="keywordtype">double</span>* x, <span class="keywordtype">double</span>* y);
<a name="l00055"></a>00055 };
<a name="l00056"></a>00056 
<a name="l00057"></a>00057 
<a name="l00059"></a><a class="code" href="classConvertAlbers.html">00059</a> <span class="keyword">class </span><a class="code" href="classConvertAlbers.html" title="Interface to convert Point objects into default Albers projection coordinate system...">ConvertAlbers</a> : <span class="keyword">public</span> <a class="code" href="classConvert.html" title="Interface to convert a Point into another coordinate system that could be used to...">Convert</a> {
<a name="l00060"></a>00060 <span class="keyword">private</span>:
<a name="l00061"></a><a class="code" href="classConvertAlbers.html#5655bda8b67a76bd855987c0c2177c8f">00061</a>         <span class="keywordtype">double</span> <a class="code" href="classConvertAlbers.html#0242aa03cc7c549c2daac7027d0e2d80">middleLon</a>, <a class="code" href="classConvertAlbers.html#e2acfd624933bd0eb997fdc7712fbd7f">bigC</a>, <a class="code" href="classConvertAlbers.html#da846fa24451fd984cb60ce28f12b6b7">coneConst</a>, <a class="code" href="classConvertAlbers.html#5655bda8b67a76bd855987c0c2177c8f">r0</a>;
<a name="l00062"></a>00062         
<a name="l00063"></a>00063         <span class="keywordtype">double</span> <a class="code" href="classConvertAlbers.html#dfd44d73b5ebc3014519b345308fc78d">calcQ</a>(<span class="keywordtype">double</span> lat);
<a name="l00064"></a>00064         <span class="keywordtype">double</span> <a class="code" href="classConvertAlbers.html#4e4df088dea29d2c94d2bb17f0585952">calcMsq</a>(<span class="keywordtype">double</span> lat);
<a name="l00065"></a>00065         
<a name="l00066"></a>00066 <span class="keyword">public</span>:
<a name="l00067"></a>00067         <a class="code" href="classConvertAlbers.html#18e612c9b2766c8a4fd1303fdc6da88f">ConvertAlbers</a>();
<a name="l00068"></a>00068         
<a name="l00073"></a>00073         <span class="keywordtype">void</span> <a class="code" href="classConvertAlbers.html#35037db325a7a85691ba8ee1295176fa">convert</a>(<a class="code" href="classPoint.html" title="Describe a specific point on the Earth surface. It can also store details about that...">Point</a>* p, <span class="keywordtype">double</span>* x, <span class="keywordtype">double</span>* y);
<a name="l00074"></a>00074         
<a name="l00075"></a>00075 };
<a name="l00076"></a>00076 
<a name="l00077"></a>00077 
<a name="l00079"></a><a class="code" href="classSource.html">00079</a> <span class="keyword">class </span><a class="code" href="classSource.html" title="Interface to a data source. Sources can be asked to fill Point objects with any available...">Source</a> {
<a name="l00080"></a>00080 <span class="keyword">protected</span>:
<a name="l00082"></a><a class="code" href="classSource.html#3b7a77047da738ccf322ce800e191d9b">00082</a>         <a class="code" href="classConvert.html" title="Interface to convert a Point into another coordinate system that could be used to...">Convert</a>* <a class="code" href="classSource.html#3b7a77047da738ccf322ce800e191d9b" title="Conversion to apply to each incoming Point.">convert</a>;
<a name="l00084"></a><a class="code" href="classSource.html#62509ac0709e3bae40ff26e015eea465">00084</a>         <span class="keywordtype">int</span> <a class="code" href="classSource.html#62509ac0709e3bae40ff26e015eea465" title="Enumeration describing what type of data this object provides.">type</a>;
<a name="l00085"></a><a class="code" href="classSource.html#9739304124fe0fb8ee23716df87aad31">00085</a>         <span class="keywordtype">int</span> <a class="code" href="classSource.html#94a7911081c48e2bdde08c6d66d94a41">ncols</a>, <a class="code" href="classSource.html#9739304124fe0fb8ee23716df87aad31">nrows</a>;
<a name="l00086"></a><a class="code" href="classSource.html#8908793a138fc10f1fc21d593ea6e39d">00086</a>         <span class="keywordtype">double</span> <a class="code" href="classSource.html#8908793a138fc10f1fc21d593ea6e39d">top</a>, <a class="code" href="classSource.html#f6c8fa751dccadf79a2c570c4033784d">left</a>, <a class="code" href="classSource.html#e7f74fa717fb358a79e0be0b1880af2e">bottom</a>, <a class="code" href="classSource.html#796f1b5b88613a54a131aaf94a8b87a2">right</a>;
<a name="l00088"></a><a class="code" href="classSource.html#0129b4e50e75985dad159258a29228e6">00088</a>         <span class="keywordtype">double</span> <a class="code" href="classSource.html#0129b4e50e75985dad159258a29228e6" title="Optional internal value describing the size of each data cell.">cellsize</a>;
<a name="l00090"></a><a class="code" href="classSource.html#2352b9b41c0a1271fa6160f2d3416eb1">00090</a>         <span class="keywordtype">string</span> <a class="code" href="classSource.html#2352b9b41c0a1271fa6160f2d3416eb1" title="Filename pointing at actual source datafile.">rawfilename</a>;
<a name="l00092"></a><a class="code" href="classSource.html#169c52ef77316ea3876fad8857fa46e9">00092</a>         ifstream <a class="code" href="classSource.html#169c52ef77316ea3876fad8857fa46e9" title="Open stream to source datafile, if already opened.">raw</a>;
<a name="l00093"></a>00093         
<a name="l00094"></a>00094         <a class="code" href="classSource.html#660c0a4b8b8f8402568bef86f2cb2fbb">Source</a>();
<a name="l00095"></a>00095         
<a name="l00099"></a>00099         <a class="code" href="classSource.html#660c0a4b8b8f8402568bef86f2cb2fbb">Source</a>(<a class="code" href="classConvert.html" title="Interface to convert a Point into another coordinate system that could be used to...">Convert</a>* _convert, <span class="keywordtype">int</span> _type);
<a name="l00100"></a>00100         
<a name="l00101"></a>00101 <span class="keyword">public</span>:
<a name="l00104"></a>00104         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classSource.html#d5c2381a2e62fc5c2478b93f66989c5e">resolve</a>(<a class="code" href="classPoint.html" title="Describe a specific point on the Earth surface. It can also store details about that...">Point</a>* p) = 0;
<a name="l00105"></a>00105         
<a name="l00108"></a>00108         <span class="keywordtype">void</span> <a class="code" href="classSource.html#332ec1e137d5680c5ce6e03078fb04fc">resolveList</a>(vector&lt;Point*&gt; list);
<a name="l00109"></a>00109         
<a name="l00113"></a>00113         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classSource.html#381dcca12b7ec6ad1b43d9aa08374a1f">contains</a>(<a class="code" href="classPoint.html" title="Describe a specific point on the Earth surface. It can also store details about that...">Point</a>* p);
<a name="l00114"></a>00114         
<a name="l00115"></a>00115 };
<a name="l00116"></a>00116 
<a name="l00117"></a>00117 
<a name="l00118"></a>00118 
<a name="l00120"></a><a class="code" href="classSourceInteger.html">00120</a> <span class="keyword">class </span><a class="code" href="classSourceInteger.html" title="Interface to a data source. Sources can be asked to fill Point objects with any available...">SourceInteger</a> : <span class="keyword">public</span> <a class="code" href="classSource.html" title="Interface to a data source. Sources can be asked to fill Point objects with any available...">Source</a> {
<a name="l00121"></a>00121 <span class="keyword">protected</span>:
<a name="l00123"></a><a class="code" href="classSourceInteger.html#51fbfcf84cec39dc7bd48e2c789bb298">00123</a>         <span class="keywordtype">int</span>* <a class="code" href="classSourceInteger.html#51fbfcf84cec39dc7bd48e2c789bb298" title="Internal cache of entire data file, if requested.">cache</a>;
<a name="l00124"></a>00124         
<a name="l00128"></a>00128         <span class="keywordtype">int</span> <a class="code" href="classSourceInteger.html#d083164e967b1d4ba66694f81112007f">value</a>(<span class="keywordtype">int</span> offset);
<a name="l00129"></a>00129         
<a name="l00130"></a>00130 <span class="keyword">public</span>:
<a name="l00131"></a>00131         
<a name="l00137"></a>00137         <a class="code" href="classSourceInteger.html#b0f082e1c452aedb967ceefb3d657688">SourceInteger</a>(<a class="code" href="classConvert.html" title="Interface to convert a Point into another coordinate system that could be used to...">Convert</a>* <a class="code" href="classSource.html#3b7a77047da738ccf322ce800e191d9b" title="Conversion to apply to each incoming Point.">convert</a>, <span class="keywordtype">int</span> <a class="code" href="classSource.html#62509ac0709e3bae40ff26e015eea465" title="Enumeration describing what type of data this object provides.">type</a>, <span class="keywordtype">string</span> filename, <span class="keywordtype">bool</span> <a class="code" href="classSourceInteger.html#51fbfcf84cec39dc7bd48e2c789bb298" title="Internal cache of entire data file, if requested.">cache</a>);
<a name="l00138"></a>00138         
<a name="l00139"></a>00139         <a class="code" href="classSourceInteger.html#5e3f04530523dc813d6e5e52d6a306bf">~SourceInteger</a>();
<a name="l00140"></a>00140         
<a name="l00143"></a>00143         <span class="keywordtype">void</span> <a class="code" href="classSourceInteger.html#ed91a6f2b8992468d2edebed5e99e321">resolve</a>(<a class="code" href="classPoint.html" title="Describe a specific point on the Earth surface. It can also store details about that...">Point</a>* p);
<a name="l00144"></a>00144 };
<a name="l00145"></a>00145 
<a name="l00146"></a>00146 
<a name="l00147"></a>00147 
<a name="l00149"></a><a class="code" href="classSourceGridFloat.html">00149</a> <span class="keyword">class </span><a class="code" href="classSourceGridFloat.html" title="Interface to a data source. Sources can be asked to fill Point objects with any available...">SourceGridFloat</a> : <span class="keyword">public</span> <a class="code" href="classSource.html" title="Interface to a data source. Sources can be asked to fill Point objects with any available...">Source</a> {
<a name="l00150"></a>00150 <span class="keyword">protected</span>:
<a name="l00152"></a><a class="code" href="classSourceGridFloat.html#01dd4ff7ff973217819f851638fedc44">00152</a>         <span class="keywordtype">double</span>* <a class="code" href="classSourceGridFloat.html#01dd4ff7ff973217819f851638fedc44" title="Internal cache of entire data file, if requested.">cache</a>;
<a name="l00153"></a>00153         
<a name="l00157"></a>00157         <span class="keywordtype">double</span> <a class="code" href="classSourceGridFloat.html#68f015416cab17e7034c35c449ccea7e">value</a>(<span class="keywordtype">int</span> offset);
<a name="l00158"></a>00158         
<a name="l00159"></a>00159 <span class="keyword">public</span>:
<a name="l00160"></a>00160         
<a name="l00166"></a>00166         <a class="code" href="classSourceGridFloat.html#f0afcfe052c1e8ea66eb5425e3090a56">SourceGridFloat</a>(<a class="code" href="classConvert.html" title="Interface to convert a Point into another coordinate system that could be used to...">Convert</a>* <a class="code" href="classSource.html#3b7a77047da738ccf322ce800e191d9b" title="Conversion to apply to each incoming Point.">convert</a>, <span class="keywordtype">int</span> <a class="code" href="classSource.html#62509ac0709e3bae40ff26e015eea465" title="Enumeration describing what type of data this object provides.">type</a>, <span class="keywordtype">string</span> filename, <span class="keywordtype">bool</span> <a class="code" href="classSourceGridFloat.html#01dd4ff7ff973217819f851638fedc44" title="Internal cache of entire data file, if requested.">cache</a>);
<a name="l00167"></a>00167         
<a name="l00177"></a>00177         <a class="code" href="classSourceGridFloat.html#f0afcfe052c1e8ea66eb5425e3090a56">SourceGridFloat</a>(<a class="code" href="classConvert.html" title="Interface to convert a Point into another coordinate system that could be used to...">Convert</a>* <a class="code" href="classSource.html#3b7a77047da738ccf322ce800e191d9b" title="Conversion to apply to each incoming Point.">convert</a>, <span class="keywordtype">int</span> <a class="code" href="classSource.html#62509ac0709e3bae40ff26e015eea465" title="Enumeration describing what type of data this object provides.">type</a>, <span class="keywordtype">string</span> filename, <span class="keywordtype">int</span> _ncols, <span class="keywordtype">int</span> _nrows, <span class="keywordtype">double</span> _left, <span class="keywordtype">double</span> _bottom, <span class="keywordtype">double</span> _cellsize);
<a name="l00178"></a>00178         
<a name="l00179"></a>00179         <a class="code" href="classSourceGridFloat.html#71aab4dd6a9d9ef3840f5d8a9cc48e2c">~SourceGridFloat</a>();
<a name="l00180"></a>00180         
<a name="l00183"></a>00183         <span class="keywordtype">void</span> <a class="code" href="classSourceGridFloat.html#542afce504db75c6e7d831cf6cd591f8">resolve</a>(<a class="code" href="classPoint.html" title="Describe a specific point on the Earth surface. It can also store details about that...">Point</a>* p);
<a name="l00184"></a>00184         
<a name="l00185"></a>00185 };
<a name="l00186"></a>00186 
<a name="l00187"></a>00187 
<a name="l00188"></a>00188 
<a name="l00190"></a><a class="code" href="classSourceGroup.html">00190</a> <span class="keyword">class </span><a class="code" href="classSourceGroup.html" title="Interface to a collection of data sources. This can quickly fill Point objects with...">SourceGroup</a> : <span class="keyword">public</span> <a class="code" href="classSource.html" title="Interface to a data source. Sources can be asked to fill Point objects with any available...">Source</a> {
<a name="l00191"></a>00191 <span class="keyword">private</span>:
<a name="l00193"></a><a class="code" href="classSourceGroup.html#f72e6300ccdf339123a3439ef7f05207">00193</a>         vector&lt;Source*&gt; <a class="code" href="classSourceGroup.html#f72e6300ccdf339123a3439ef7f05207" title="Internal list of all Source objects we know about.">list</a>;
<a name="l00194"></a>00194 <span class="keyword">public</span>:
<a name="l00195"></a>00195         <a class="code" href="classSourceGroup.html#dc2c7253e6c27850da115610db58d4af">~SourceGroup</a>();
<a name="l00196"></a>00196         
<a name="l00199"></a>00199         <span class="keywordtype">void</span> <span class="keyword">add</span>(<a class="code" href="classSource.html" title="Interface to a data source. Sources can be asked to fill Point objects with any available...">Source</a>* s);
<a name="l00200"></a>00200         
<a name="l00203"></a>00203         <span class="keywordtype">void</span> <a class="code" href="classSourceGroup.html#d902869457b4af0326a67138f1680f34">resolve</a>(<a class="code" href="classPoint.html" title="Describe a specific point on the Earth surface. It can also store details about that...">Point</a>* p);
<a name="l00204"></a>00204         
<a name="l00208"></a>00208         <span class="keywordtype">bool</span> <a class="code" href="classSourceGroup.html#222111a10586173b2c0873461488a276">contains</a>(<a class="code" href="classPoint.html" title="Describe a specific point on the Earth surface. It can also store details about that...">Point</a>* p);
<a name="l00209"></a>00209         
<a name="l00210"></a>00210 };
<a name="l00211"></a>00211 
<a name="l00212"></a>00212 
<a name="l00213"></a>00213 
<a name="l00214"></a>00214 
<a name="l00215"></a>00215 
<a name="l00216"></a>00216 
</pre></div><hr size="1"><address style="text-align: right;"><small>Generated on Sat Feb 23 21:49:22 2008 for libprop by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.4 </small></address>
</body>
</html>
